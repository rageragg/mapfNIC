DROP TABLE x2000008_web;

CREATE TABLE x2000008_web(
    cod_cia         NUMBER(2)       NOT NULL,
    process_id      VARCHAR2(32)    NOT NULL,
    session_id      VARCHAR2(128),
    fec_transaccion DATE            DEFAULT    SYSDATE,
    url             VARCHAR2(256)   NOT NULL,
    tip_json        VARCHAR2(20)    NOT NULL,
    dato_json       CLOB            NOT NULL,
    mca_valido      CHAR(1)         DEFAULT 'N',
    txt_resultado   VARCHAR2(4000),
    CONSTRAINT ck_json check( dato_json IS JSON ) ENABLE, 
    CONSTRAINT "X2000008_WEB_PK" PRIMARY KEY ( process_id ) ENABLE
);

COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."COD_CIA" IS 'CODIGO DE LA COMPANIA';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."PROCESS_ID" IS 'IDENTIFICADOR DEL PROCESO';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."SESSION_ID" IS 'IDENTIFICADOR DE LA SESION';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."FEC_TRANSACCION" IS 'FECHA DE LA TRANSACCION WEB';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."URL" IS 'URL QUE ES PROCESADA';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."TIP_JSON" IS 'TIPO DE JSON QUE SE PROCESA Y VALIDA';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."DATO_JSON" IS 'DATO JSON QUE SE PROCESA Y VALIDA';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."MCA_VALIDO" IS 'MARCA SI EL REGISTRO ES VALIDO PARA PROCESAR';
COMMENT ON COLUMN "TRON2000"."X2000008_WEB"."TXT_RESULTADO" IS 'TEXTO DE OBSERVACION DEL RESULTADO DE PROCESAMIENTO';

COMMENT ON TABLE "TRON2000"."X2000008_WEB" IS 'DATOS DE PROCESAMIENTO (SOLICITUDES) AUTO-INSPECCION WEB';

GRANT DELETE ON "TRON2000"."X2000008_WEB" TO "NWT_DL" WITH GRANT OPTION;
GRANT INSERT ON "TRON2000"."X2000008_WEB" TO "NWT_DL" WITH GRANT OPTION;
GRANT SELECT ON "TRON2000"."X2000008_WEB" TO "NWT_DL" WITH GRANT OPTION;
GRANT UPDATE ON "TRON2000"."X2000008_WEB" TO "NWT_DL" WITH GRANT OPTION;
GRANT REFERENCES ON "TRON2000"."X2000008_WEB" TO "NWT_DL" WITH GRANT OPTION;
GRANT DELETE ON "TRON2000"."X2000008_WEB" TO "NWT_IL" WITH GRANT OPTION;
GRANT INSERT ON "TRON2000"."X2000008_WEB" TO "NWT_IL" WITH GRANT OPTION;
GRANT SELECT ON "TRON2000"."X2000008_WEB" TO "NWT_IL" WITH GRANT OPTION;
GRANT UPDATE ON "TRON2000"."X2000008_WEB" TO "NWT_IL" WITH GRANT OPTION;
GRANT REFERENCES ON "TRON2000"."X2000008_WEB" TO "NWT_IL" WITH GRANT OPTION;
GRANT UPDATE ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_APP";
GRANT INSERT ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_APP";
GRANT DELETE ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_APP";
GRANT ALTER ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_APP";
GRANT SELECT ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_SEL";
GRANT DELETE ON "TRON2000"."X2000008_WEB" TO "NWT_DM_APP";
GRANT INSERT ON "TRON2000"."X2000008_WEB" TO "NWT_DM_APP";
GRANT SELECT ON "TRON2000"."X2000008_WEB" TO "NWT_DM_APP";
GRANT UPDATE ON "TRON2000"."X2000008_WEB" TO "NWT_DM_APP";
GRANT DELETE ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_ALL";
GRANT INSERT ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_ALL";
GRANT SELECT ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_ALL";
GRANT UPDATE ON "TRON2000"."X2000008_WEB" TO "ROL_TRON2000_ALL";
GRANT REFERENCES ON "TRON2000"."X2000008_WEB" TO "NWT_DM_APP";